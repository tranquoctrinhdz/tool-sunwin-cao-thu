
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sunwin Cao Th·ªß T√†i X·ªâu</title>
  <style>
    body {
      background-color: #1a1a1a;
      color: #fff;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
    }
    h1 {
      color: #ffd700;
    }
    input, button {
      font-size: 18px;
      padding: 10px;
      margin: 5px;
      width: 90%;
      max-width: 400px;
    }
    #output, #history, #suggestion {
      margin-top: 20px;
      font-size: 18px;
    }
    .footer {
      margin-top: 40px;
      font-size: 14px;
      color: #aaa;
    }
    .result-line {
      border-top: 1px solid #444;
      margin-top: 10px;
      padding-top: 10px;
    }
  </style>
</head>
<body>
  <h1>üéØ Sunwin Cao Th·ªß T√†i X·ªâu</h1>
  <p>Nh·∫≠p chu·ªói k·∫øt qu·∫£ (T = T√†i, X = X·ªâu), c√°ch nhau b·ªüi d·∫•u c√°ch:</p>
  <input type="text" id="historyInput" placeholder="V√≠ d·ª•: X T T X X T">
  <input type="number" id="capitalInput" placeholder="Nh·∫≠p s·ªë v·ªën (VD: 500000)">
  <br>
  <button onclick="predict()">üîÆ D·ª± ƒêo√°n</button>
  <button onclick="markResult(true)">‚úÖ ƒê√∫ng</button>
  <button onclick="markResult(false)">‚ùå Sai</button>
  <div id="output"></div>
  <div id="suggestion"></div>
  <div id="history"></div>
  <div class="footer">Cre: Tr·∫ßn Qu·ªëc Tr·ªãnh ‚Äì Tr√πm K√©o Thu√™ Sunwin</div>

  <script>
    let historyLog = [];

    function predict() {
      const input = document.getElementById("historyInput").value.trim().toUpperCase();
      const capital = parseInt(document.getElementById("capitalInput").value);
      const results = input.split(" ").filter(r => r === "T" || r === "X");
      if (results.length < 3) {
        document.getElementById("output").innerText = "‚ùó Nh·∫≠p √≠t nh·∫•t 3 k·∫øt qu·∫£ g·∫ßn nh·∫•t.";
        return;
      }

      // Ph√¢n t√≠ch c·∫ßu c∆° b·∫£n
      const last = results[results.length - 1];
      const secondLast = results[results.length - 2];
      let prediction = "T";
      let reason = "";

      if (last === secondLast) {
        prediction = last; // C·∫ßu b·ªát
        reason = "C·∫ßu b·ªát ‚Äì theo ƒë√†";
      } else if (results.slice(-4).join("") === "TXT" || results.slice(-4).join("") === "XTX") {
        prediction = results[results.length - 3]; // C·∫ßu l·∫∑p
        reason = "C·∫ßu l·∫∑p 1-2-1 ‚Äì gi·ªØ nh·ªãp";
      } else {
        prediction = last === "T" ? "X" : "T"; // G√£y c·∫ßu
        reason = "C·∫ßu g√£y ‚Äì ƒë·∫£o chi·ªÅu";
      }

      const betSuggestion = capital && !isNaN(capital) ? Math.round(capital * 0.4) : "N/A";

      const text = `üëâ D·ª± ƒëo√°n: ${prediction === "T" ? "T√†i" : "X·ªâu"}
üß† Ph√¢n t√≠ch: ${reason}`;
      const suggest = `üí∞ G·ª£i √Ω c∆∞·ª£c: ${betSuggestion === "N/A" ? "Vui l√≤ng nh·∫≠p v·ªën" : betSuggestion.toLocaleString()} ƒë`;

      document.getElementById("output").innerText = text;
      document.getElementById("suggestion").innerText = suggest;

      historyLog.unshift(`[${results.join(" ")}] => ƒêo√°n: ${prediction}`);
      if (historyLog.length > 10) historyLog.pop();

      renderHistory();
      document.getElementById("historyInput").value = "";
    }

    function renderHistory() {
      const historyDiv = document.getElementById("history");
      historyDiv.innerHTML = "<div class='result-line'><b>L·ªãch s·ª≠ d·ª± ƒëo√°n:</b><br>" + historyLog.join("<br>") + "</div>";
    }

    function markResult(isCorrect) {
      if (historyLog.length === 0) return;
      historyLog[0] += isCorrect ? " ‚úÖ" : " ‚ùå";
      renderHistory();
    }
  </script>
</body>
</html>
